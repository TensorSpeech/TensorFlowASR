{% set vocabsize = 1000 %}
{% set vocabprefix = repodir ~ "/vocabularies/librispeech/sentencepiece/train_bpe_" ~ vocabsize ~ "_whitespace" %}
{% set metadata = vocabprefix ~ ".metadata.json" %}

decoder_config:
  type: sentencepiece
  blank_index: 0
  pad_token: "<pad>"
  pad_index: -1 # disable
  unknown_token: "<unk>"
  unknown_index: 0
  bos_token: "<s>"
  bos_index: -1 # disable
  eos_token: "</s>"
  eos_index: -1 # disable
  beam_width: 0
  norm_score: True
  lm_config: null
  model_type: bpe
  vocabulary: {{vocabprefix}}.model
  keep_whitespace: True
  vocab_size: {{vocabsize}}
  reserved_tokens: null
  normalization_form: NFKC
  max_sentencepiece_length: 16
  max_sentence_length: 1048576
  corpus_files:
    - {{datadir}}/train-clean-100/transcripts.tsv
    - {{datadir}}/train-clean-360/transcripts.tsv
    - {{datadir}}/train-other-500/transcripts.tsv

